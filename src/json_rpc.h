#ifndef JSON_RPC_H
#define JSON_RPC_H

#include <ArduinoJson.h>

////////////////////////////////////////////////////////////////////////////////
// 매크로
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// 구조체
////////////////////////////////////////////////////////////////////////////////

typedef void (*json_rpc_method_t)(JsonVariant r, JsonVariant p0, JsonVariant p1, JsonVariant p2);

////////////////////////////////////////////////////////////////////////////////
// 상수
////////////////////////////////////////////////////////////////////////////////

enum json_rpc_param_t {
    JSON_RPC_PARAM_NONE,
    JSON_RPC_PARAM_BOOL,
    JSON_RPC_PARAM_INT,
    JSON_RPC_PARAM_FLOAT,
    JSON_RPC_PARAM_STRING,
    JSON_RPC_PARAM_ARRAY,
    JSON_RPC_PARAM_OBJECT
};

////////////////////////////////////////////////////////////////////////////////
// 변수
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// 함수
////////////////////////////////////////////////////////////////////////////////
void json_rpc_server_add_method(const char* method, json_rpc_method_t m, 
    const char *p0Name, json_rpc_param_t p0Type, 
    const char *p1Name, json_rpc_param_t p1Type, 
    const char *p2Name, json_rpc_param_t p2Type);
void json_rpc_loop(void);    

#endif // JSON_RPC_H